<app:TangoEventPageBase
  x:Class="WinPhoneTango.IncomingCallPage"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:app="clr-namespace:WinPhoneTango"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  FontFamily="{StaticResource TangoFontFamilyNormal}"
  Foreground="{StaticResource TangoForeground}"
  SupportedOrientations="Portrait" Orientation="Portrait"
  mc:Ignorable="d" d:DesignHeight="800" d:DesignWidth="480">

  <!--LayoutRoot is the root grid where all page content is placed-->
  <Grid x:Name="LayoutRoot">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
    </Grid.RowDefinitions>

    <!--TitlePanel contains the name of the application and page title-->
    <StackPanel x:Name="TitlePanel" Grid.Row="0" Margin="0,0,0,0">
      <StackPanel Orientation="Horizontal">
        <Image Source="ms-appx:///WinPhoneTango/Resources/logo_small.png" HorizontalAlignment="Left" VerticalAlignment="Top" Stretch="None"></Image>
        <Rectangle Width="480" Fill="{StaticResource TangoOrangeBrush}" HorizontalAlignment="Left" VerticalAlignment="Stretch"></Rectangle>
      </StackPanel>
    </StackPanel>
    <!--ContentPanel - place additional content here-->
    <Grid x:Name="ContentPanel" Grid.Row="1" Margin="0,0,0,0">
      <StackPanel>
        <!--Panel for caller-->
        <StackPanel Name="panelEndCall" Margin="0,27,0,30"
                    Visibility="Collapsed">
          <!--Show eslapsed time, remote user name-->
          <TextBlock Text="{Binding Localizedresources.sender_call_alert, Source={StaticResource LocalizedStrings}}"
                     Margin="24,0,24,0"
                     Foreground="{StaticResource TangoOrangeBrush}"
                     FontSize="20" />
          <Viewbox Margin="24,-10,24,6" VerticalAlignment="Stretch" MaxHeight="74"
                   HorizontalAlignment="Left">
            <TextBlock x:Name="calleeName" Text="" FontSize="74" />
          </Viewbox>

          <!--End call button-->
          <Button Name="buttonEndCall" Background="{StaticResource TangoOrangeBrush}"
                  Click="buttonEndCall_Click" Margin="12,0,12,13"
                  Content="{Binding Localizedresources.end_call_button, Source={StaticResource LocalizedStrings}}" />
        </StackPanel>
        <!--Photo of remote side-->
        <Image x:Name="remotePhoto" Width="480" Height="480"
               VerticalAlignment="Top" Stretch="UniformToFill"
               Source="ms-appx:///WinPhoneTango/Resources/avatar.png" />
        <!--Panel for callee-->
        <StackPanel Name="panelAnswerOrNot" Margin="0,0,0,110"
                    Visibility="Collapsed">
          <Border Width="480" Height="140"  Margin="0,-140,0,0"
            VerticalAlignment="Bottom"
            Background="Gray" Opacity="0.7">
            <StackPanel>
              <Viewbox Margin="20,20,20,-4" VerticalAlignment="Stretch" MaxHeight="74"
                       HorizontalAlignment="Left">
                <TextBlock x:Name="callerName" FontSize="74"
                           Foreground="{StaticResource TangoBackground}"
                           HorizontalAlignment="Left" Text="" />
              </Viewbox>
              <TextBlock x:Name="callType" FontSize="20"
                         Foreground="{StaticResource TangoBackground}"
                         HorizontalAlignment="Left" Margin="20,3,20,0"
                         Text="" />
            </StackPanel>
          </Border>
          <StackPanel Name="panelAnswerOrNotButtons" Orientation="Horizontal">
            <Button Name="buttonAcceptCall"
                    Content="{Binding Localizedresources.answer_button, Source={StaticResource LocalizedStrings}}"
                    Width="240" Click="buttonAcceptCall_Click" />
            <Button Name="buttonRejectCall"
                    Content="{Binding Localizedresources.decline_button, Source={StaticResource LocalizedStrings}}"
                    Width="240" Click="buttonRejectCall_Click" />
          </StackPanel>
        </StackPanel>
      </StackPanel>
      <ProgressBar x:Name="waitingBar" Margin="0, 488, 0, 0"
                                   IsIndeterminate="True" VerticalAlignment="Top"
                                   Visibility="Collapsed" />
    </Grid>
  </Grid>
</app:TangoEventPageBase>
